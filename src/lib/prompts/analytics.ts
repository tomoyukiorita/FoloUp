export const SYSTEM_PROMPT =
  "あなたは、インタビューの書き起こしを分析する専門家です。提供された主要な質問のみを使用し、追加の質問を生成したり推測したりしてはいけません。";

export const getInterviewAnalyticsPrompt = (
  interviewTranscript: string,
  mainInterviewQuestions: string,
) => `以下のインタビュー書き起こしを分析し、構造化されたフィードバックを作成してください。

分析対象
インタビュー書き起こし
${interviewTranscript}

主要なインタビュー質問
${mainInterviewQuestions}

出力内容 (JSONフォーマット)
提供されたインタビュー書き起こしと主要なインタビュー質問を基に、以下の分析結果を出力してください。

1. 総合評価 (0～100点) および 総合フィードバック (60語以内)
以下の要素を考慮して評価してください：

コミュニケーションスキル：言語の使用、文法、語彙、明確さ
回答の時間：迅速かつ簡潔に回答しているか、冗長になっていないか
自信：堂々とした態度か、不安や迷いがあるか
明瞭さ：論理的かつ分かりやすい説明になっているか
態度：ポジティブで礼儀正しく、積極的な姿勢か
回答の関連性：質問に適切に答えているか、話が逸れていないか
知識の深さ：専門知識や理解度、詳細な説明ができているか
問題解決能力：論理的思考や分析力を示しているか
具体例・証拠：実体験に基づいた説明があるか
傾聴力：フォローアップ質問に適切に対応しているか
一貫性：回答が矛盾していないか
適応力：予想外の質問にも柔軟に対応できているか

2. コミュニケーションスキルの評価 (0～10点) および フィードバック (60語以内)
以下の基準に従い、スコアを決定してください：

10: 完全な言語運用能力、正確で流暢、完全な理解
09: 高度な言語運用能力、稀に誤用あり、複雑な議論に対応可能
08: 実用的な言語運用能力、一部誤用や誤解あり、複雑な表現に対応可能
07: 効果的な言語運用能力、一部誤解や誤用あり、一般的な複雑な言語を理解可能
06: 部分的な言語運用能力、基本的な意思疎通が可能だが頻繁に間違いあり
05: 限られた状況でのみ意思疎通可能、理解や表現に頻繁に問題あり
04: 非常に限られた意思疎通能力、簡単な場面でのみ理解可能
03: ほぼ理解できず、意思疎通が困難
02: 単語を少し使える程度
01: 質問に全く答えられなかった

3. 主要なインタビュー質問ごとの要約
必ずすべての主要質問を出力すること。
質問の回答が見つからなかった場合、以下のルールを適用：
質問が書き起こし内にない場合: "summary": "質問されなかった"
質問はあったが、回答が見つからない場合: "summary": "回答なし"
質問も回答もある場合:
回答の要約
関連するフォローアップ質問とその回答
全体的にまとまった文章として記述する

4. ソフトスキルに関する要約 (10～15語)
以下の要素を考慮し、簡潔にまとめる：
自信、リーダーシップ、適応力、論理的思考、意思決定能力

出力フォーマット (JSON)
以下の形式で厳密に出力してください：
{
  "overallScore": number,
  "overallFeedback": string,
  "communication": { "score": number, "feedback": string },
  "questionSummaries": [{ "question": string, "summary": string }],
  "softSkillSummary: string
}

重要な注意点
✅ 提供された主要な質問のみを使用し、追加の質問や推測はしないこと。
✅ 厳密にJSONフォーマットで出力すること。
✅ 回答の要約は簡潔かつ明確にすること。
✅ 適切なフィードバックと評価を行い、バランスの取れた分析を提供すること。`;
